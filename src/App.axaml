<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="AvalonHttp.App"
             xmlns:local="using:AvalonHttp"
             xmlns:lucide="clr-namespace:LucideAvalonia;assembly=LucideAvalonia"
             xmlns:converters="clr-namespace:AvalonHttp.Converters"
             xmlns:avaloniaEdit="clr-namespace:AvaloniaEdit;assembly=AvaloniaEdit"
             xmlns:editing="https://github.com/avaloniaui/avaloniaedit"
             xmlns:folding="clr-namespace:AvaloniaEdit.Folding;assembly=AvaloniaEdit"
             RequestedThemeVariant="Dark">

    <Application.DataTemplates>
        <local:ViewLocator />
    </Application.DataTemplates>

    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.ThemeDictionaries>
                <ResourceDictionary x:Key="Dark">
                    <SolidColorBrush x:Key="BgDark">#0D0D0D</SolidColorBrush>
                    <SolidColorBrush x:Key="BgSidebarBrush">#1E1E1E</SolidColorBrush>
                    <SolidColorBrush x:Key="BgMain">#121212</SolidColorBrush>
                    <SolidColorBrush x:Key="BgElevated">#1A1A1A</SolidColorBrush>
                    <SolidColorBrush x:Key="BorderColor">#2A2A2A</SolidColorBrush>
                    <SolidColorBrush x:Key="BorderBright">#333333</SolidColorBrush>
                    <SolidColorBrush x:Key="TextPrimary">#FFFFFF</SolidColorBrush>
                    <SolidColorBrush x:Key="TextSecondary">#A0A0A0</SolidColorBrush>
                    <SolidColorBrush x:Key="TextMuted">#6A6A6A</SolidColorBrush>
                    <SolidColorBrush x:Key="GlassBg">#0DFFFFFF</SolidColorBrush>
                    <SolidColorBrush x:Key="GlassBorder">#1AFFFFFF</SolidColorBrush>
                    <SolidColorBrush x:Key="IconPrimary">#FFFFFF</SolidColorBrush>
                    <SolidColorBrush x:Key="IconSecondary">#A0A0A0</SolidColorBrush>
                    <SolidColorBrush x:Key="BgSelected">#1A1F2E</SolidColorBrush>
                </ResourceDictionary>

                <ResourceDictionary x:Key="Light">
                    <SolidColorBrush x:Key="BgDark">#E8E8E8</SolidColorBrush>
                    <SolidColorBrush x:Key="BgSidebarBrush">#F5F5F5</SolidColorBrush>
                    <SolidColorBrush x:Key="BgMain">#FAFAFA</SolidColorBrush>
                    <SolidColorBrush x:Key="BgElevated">#FFFFFF</SolidColorBrush>
                    <SolidColorBrush x:Key="BorderColor">#E0E0E0</SolidColorBrush>
                    <SolidColorBrush x:Key="BorderBright">#D0D0D0</SolidColorBrush>
                    <SolidColorBrush x:Key="TextPrimary">#1F1F1F</SolidColorBrush>
                    <SolidColorBrush x:Key="TextSecondary">#5A5A5A</SolidColorBrush>
                    <SolidColorBrush x:Key="TextMuted">#8A8A8A</SolidColorBrush>
                    <SolidColorBrush x:Key="GlassBg">#0A000000</SolidColorBrush>
                    <SolidColorBrush x:Key="GlassBorder">#14000000</SolidColorBrush>
                    <SolidColorBrush x:Key="IconPrimary">#1F1F1F</SolidColorBrush>
                    <SolidColorBrush x:Key="IconSecondary">#5A5A5A</SolidColorBrush>
                    <SolidColorBrush x:Key="BgSelected">#F0F4FF</SolidColorBrush>
                </ResourceDictionary>
            </ResourceDictionary.ThemeDictionaries>
        </ResourceDictionary>
        
        <!-- Colors -->
        <SolidColorBrush x:Key="AccentBrush">#3B82F6</SolidColorBrush>
        <SolidColorBrush x:Key="AccentTeal">#14B8A6</SolidColorBrush>
        <SolidColorBrush x:Key="Success">#10B981</SolidColorBrush>
        <SolidColorBrush x:Key="Error">#EF4444</SolidColorBrush>
        <SolidColorBrush x:Key="Warning">#F59E0B</SolidColorBrush>
        <SolidColorBrush x:Key="WhiteBrush">#FFFFFF</SolidColorBrush>
        <SolidColorBrush x:Key="ScrollBarHover">#404040</SolidColorBrush>
        <SolidColorBrush x:Key="AccentHover">#4A90F7</SolidColorBrush>
        <SolidColorBrush x:Key="AccentPressed">#2563EB</SolidColorBrush>
        <SolidColorBrush x:Key="SuccessSubtle">#1A10B981</SolidColorBrush>
        <SolidColorBrush x:Key="SuccessBorder">#3310B981</SolidColorBrush>
        <SolidColorBrush x:Key="AccentSubtle">#1A3B82F6</SolidColorBrush>
        <SolidColorBrush x:Key="AccentDrag">#153B82F6</SolidColorBrush>
        <SolidColorBrush x:Key="AccentDragStrong">#253B82F6</SolidColorBrush>
        
        <SolidColorBrush x:Key="TextControlSelectionHighlightColor" Color="#663B82F6"/>
        
        <converters:BoolToFontWeightConverter x:Key="BoolToFontWeightConverter"/>
        <converters:PercentToPixelConverter x:Key="PercentToPixelConverter"/>
        <converters:BoolToAngleConverter x:Key="BoolToAngleConverter" />
        <converters:MethodToBrushConverter x:Key="MethodToBrushConverter"/>

        <FontFamily x:Key="InterFont">avares://AvalonHttp/Assets/Fonts#Inter</FontFamily>
        <FontFamily x:Key="JetBrainsMonoFont">avares://AvalonHttp/Assets/Fonts#JetBrains Mono</FontFamily>
    </Application.Resources>

    <Application.Styles>
        <FluentTheme />
        <StyleInclude Source="avares://Avalonia.Controls.DataGrid/Themes/Fluent.xaml"></StyleInclude>
        <StyleInclude Source="avares://AvaloniaEdit/Themes/Fluent/AvaloniaEdit.xaml" />
        <StyleInclude Source="/Controls/VariableTextBox.axaml" />
        
        <!-- Global Font -->
        <Style Selector="Window">
            <Setter Property="FontFamily" Value="{StaticResource InterFont}"/>
            <Setter Property="FontSize" Value="14"/>
        </Style>
        
        <Style Selector="TextBlock">
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        
        <!-- Button -->
        <Style Selector="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="VerticalContentAlignment" Value="Stretch"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="0:0:0.15"/>
                    <BrushTransition Property="BorderBrush" Duration="0:0:0.15"/>
                </Transitions>
            </Setter>
        </Style>

        <Style Selector="Button:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource GlassBg}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBright}"/>
        </Style>

        <Style Selector="Button:pressed /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource BorderColor}"/>
        </Style>

        <Style Selector="Button:disabled /template/ ContentPresenter">
            <Setter Property="Opacity" Value="0.4"/>
        </Style>

        <!-- TextBox -->
        <Style Selector="TextBox">
            <Setter Property="Background" Value="{DynamicResource BgElevated}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="MinHeight" Value="36"/> 
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="CaretBrush" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="SelectionBrush" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        
        <Style Selector="TextBox:focus /template/ Border#PART_BorderElement">
            <Setter Property="Background" Value="{DynamicResource BgElevated}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
        
        <Style Selector="TextBox:pointerover /template/ Border#PART_BorderElement">
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="Background" Value="{DynamicResource BgElevated}"/>
        </Style>
        
        <Style Selector="TextBox:disabled /template/ Border#PART_BorderElement">
            <Setter Property="Opacity" Value="0.4"/>
        </Style>

        <!-- ComboBox -->
        <Style Selector="ComboBox">
            <Setter Property="Background" Value="{DynamicResource BgElevated}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="MinHeight" Value="36"/> 
            <Setter Property="Padding" Value="12,8"/> 
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <Style Selector="ComboBox:focus /template/ Border#Background">
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
        </Style>

        <Style Selector="ComboBox /template/ PathIcon#DropDownGlyph">
            <Setter Property="Foreground" Value="{DynamicResource TextSecondary}"/>
        </Style>

        <Style Selector="ComboBoxItem">
            <Setter Property="Background" Value="{DynamicResource BgElevated}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            <Setter Property="Padding" Value="12,8"/>
        </Style>

        <Style Selector="ComboBoxItem:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource GlassBg}"/>
        </Style>

        <Style Selector="ComboBoxItem:selected /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
        </Style>

        <!-- CheckBox -->
        <Style Selector="CheckBox">
            <Setter Property="MinWidth" Value="0"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
        </Style>

        <Style Selector="CheckBox /template/ Border#NormalRectangle">
            <Setter Property="Background" Value="{DynamicResource BgElevated}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Width" Value="16"/>
            <Setter Property="Height" Value="16"/>
        </Style>

        <Style Selector="CheckBox:checked /template/ Border#NormalRectangle">
            <Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
        </Style>

        <Style Selector="CheckBox:pointerover /template/ Border#NormalRectangle">
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBright}"/>
        </Style>

        <!-- MenuItem & MenuFlyout -->
        <Style Selector="MenuFlyout">
            <Setter Property="Placement" Value="Bottom"/>
        </Style>

        <Style Selector="MenuFlyoutPresenter">
            <Setter Property="Background" Value="{DynamicResource BgElevated}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="4"/>
            <Setter Property="MinWidth" Value="180"/>
            <Setter Property="MaxWidth" Value="300"/>
        </Style>

        <Style Selector="MenuItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Margin" Value="2"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="0:0:0.15"/>
                </Transitions>
            </Setter>
        </Style>

        <Style Selector="MenuItem:pointerover /template/ Border#PART_LayoutRoot">
            <Setter Property="Background" Value="{DynamicResource GlassBg}"/>
        </Style>

        <Style Selector="MenuItem:pressed /template/ Border#PART_LayoutRoot">
            <Setter Property="Background" Value="{DynamicResource BorderColor}"/>
        </Style>

        <Style Selector="MenuItem /template/ ContentPresenter#PART_HeaderPresenter">
            <Setter Property="Margin" Value="0,0,8,0"/>
        </Style>

        <Style Selector="MenuItem /template/ Path#PART_ChevronPath">
            <Setter Property="Fill" Value="{DynamicResource TextSecondary}"/>
        </Style>

        <!-- MenuItem Icon -->
        <Style Selector="MenuItem > lucide|Lucide">
            <Setter Property="Width" Value="16"/>
            <Setter Property="Height" Value="16"/>
            <Setter Property="StrokeBrush" Value="{DynamicResource IconPrimary}"/>
            <Setter Property="Margin" Value="0,0,8,0"/>
        </Style>

        <!-- Separator in Menu -->
        <Style Selector="Separator">
            <Setter Property="Background" Value="{DynamicResource BorderColor}"/>
            <Setter Property="Height" Value="1"/>
            <Setter Property="Margin" Value="4,4"/>
        </Style>

        <!-- ScrollBar -->
        <Style Selector="ScrollBar">
            <Setter Property="Background" Value="Transparent"/>
        </Style>
        
        <Style Selector="ScrollBar:vertical">
            <Setter Property="Width" Value="8"/>
        </Style>
        
        <Style Selector="ScrollBar:horizontal">
            <Setter Property="Height" Value="8"/>
        </Style>
        
        <Style Selector="ScrollBar /template/ Border#PART_Background">
            <Setter Property="Background" Value="Transparent"/>
        </Style>
        
        <Style Selector="ScrollBar /template/ Thumb">
            <Setter Property="Background" Value="{DynamicResource BorderBright}"/>
            <Setter Property="CornerRadius" Value="4"/>
        </Style>
        
        <Style Selector="ScrollBar /template/ Thumb:pointerover">
            <Setter Property="Background" Value="{DynamicResource ScrollBarHover}"/>
        </Style>

        <!-- Navigation Buttons -->
        <Style Selector="Button.NavIcon">
            <Setter Property="Width" Value="40"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="MinHeight" Value="36"/> 
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="0:0:0.15"/>
                </Transitions>
            </Setter>
        </Style>

        <Style Selector="Button.NavIcon:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource GlassBg}"/>
        </Style>

        <Style Selector="Button.NavIcon.Active /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
        </Style>

        <!-- Tree Items -->
        <Style Selector="Border.TreeItem">
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="Margin" Value="0,1"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="0:0:0.15"/>
                    <BrushTransition Property="BorderBrush" Duration="0:0:0.15"/>
                    <ThicknessTransition Property="BorderThickness" Duration="0:0:0.15"/>
                </Transitions>
            </Setter>
        </Style>

        <Style Selector="Border.TreeItem:pointerover">
            <Setter Property="Background" Value="{DynamicResource GlassBg}"/>
        </Style>

        <Style Selector="Border.TreeItem.Active">
            <Setter Property="Background" Value="{DynamicResource GlassBg}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource GlassBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>

        <Style Selector="Border.TreeItem TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource TextSecondary}"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <Style Selector="Border.TreeItem.Active TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
        </Style>

        <!-- HTTP Method Badges -->
        <Style Selector="Border.MethodBadge">
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="MinWidth" Value="50"/>
            <Setter Property="MinHeight" Value="16"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style Selector="Border.MethodBadge TextBlock">
            <Setter Property="FontFamily" Value="{StaticResource JetBrainsMonoFont}"/>
            <Setter Property="FontSize" Value="9"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="LetterSpacing" Value="0.5"/>
        </Style>

        <!-- Badge -->
        <Style Selector="Border.Badge">
            <Setter Property="Background" Value="{DynamicResource GlassBg}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource GlassBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="6,2"/>
        </Style>

        <Style Selector="Border.Badge TextBlock">
            <Setter Property="FontFamily" Value="{StaticResource JetBrainsMonoFont}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextSecondary}"/>
            <Setter Property="FontSize" Value="10"/>
            <Setter Property="FontWeight" Value="Medium"/>
        </Style>

        <!-- Custom Inputs -->
        <Style Selector="ComboBox.MethodDropdown">
            <Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Height" Value="36"/>
            <Setter Property="MinHeight" Value="36"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="12,0"/>
        </Style>
        
        <Style Selector="ComboBox.MethodDropdown:pointerover /template/ Border#Background">
            <Setter Property="Background" Value="{DynamicResource AccentHover}"/>
        </Style>

        <Style Selector="ComboBox.MethodDropdown:focus /template/ Border#Background">
            <Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
        </Style>
        
        <Style Selector="TextBox.KvInput">
            <Setter Property="FontFamily" Value="{StaticResource JetBrainsMonoFont}"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="VerticalContentAlignment" Value="Center"></Setter>
            <Setter Property="CornerRadius" Value="8"/>
            
            <Style Selector="^ /template/ TextBlock#PART_Watermark">
                <Setter Property="Foreground" Value="{DynamicResource TextSecondary}"/>
            </Style>
        </Style>

        <!-- Buttons -->
        <Style Selector="Button.SendButton">
            <Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Height" Value="36"/>
            <Setter Property="Padding" Value="24,0"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>

        <Style Selector="Button.SendButton:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource AccentHover}"/>
        </Style>

        <Style Selector="Button.SendButton:pressed /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource AccentPressed}"/>
        </Style>

        <Style Selector="Button.IconButton">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="0:0:0.15"/>
                </Transitions>
            </Setter>
        </Style>

        <Style Selector="Button.IconButton:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource GlassBg}"/>
        </Style>

        <Style Selector="Button.AddRowButton">
            <Setter Property="Background" Value="{DynamicResource BgElevated}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBright}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Foreground" Value="{DynamicResource TextSecondary}"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="0:0:0.15"/>
                    <BrushTransition Property="BorderBrush" Duration="0:0:0.15"/>
                </Transitions>
            </Setter>
        </Style>

        <Style Selector="Button.AddRowButton:pointerover /template/ ContentPresenter">
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="Background" Value="{DynamicResource GlassBg}"/>
        </Style>
        
        <Style Selector="Button.ActionButton">
            <Setter Property="Width" Value="36"/>
            <Setter Property="Height" Value="36"/>
            <Setter Property="Background" Value="{DynamicResource BgElevated}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="MinWidth" Value="0"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="0:0:0.15"/>
                    <BrushTransition Property="BorderBrush" Duration="0:0:0.15"/>
                </Transitions>
            </Setter>
        </Style>

        <Style Selector="Button.ActionButton > lucide|Lucide">
            <Setter Property="StrokeBrush" Value="{DynamicResource TextSecondary}"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="StrokeBrush" Duration="0:0:0.2"/>
                </Transitions>
            </Setter>
        </Style>

        <Style Selector="Button.ActionButton:pointerover > lucide|Lucide">
            <Setter Property="StrokeBrush" Value="{DynamicResource AccentBrush}"/>
        </Style>

        <Style Selector="Button.ActionButton:pointerover /template/ ContentPresenter">
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
        </Style>
        
        <Style Selector="Button.ActionButton:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="{DynamicResource BgElevated }"/> 
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
        </Style>
        
        
        <Style Selector="Button.SaveButton">
            <Setter Property="Background" Value="{DynamicResource AccentBrush}" />
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
            <Setter Property="Padding" Value="12,6" />
            <Setter Property="CornerRadius" Value="6" />
            <Setter Property="BorderThickness" Value="0" />
        </Style>

        <Style Selector="Button.SaveButton:disabled, Button.ActionButton:disabled">
            <Setter Property="Background" Value="{DynamicResource AccentBrush}" />
            <Setter Property="BorderBrush" Value="{DynamicResource BorderColor}" />
            <Setter Property="BorderThickness" Value="1" />
        </Style>

        <!-- Tabs -->
        <Style Selector="Border.Tab">
            <Setter Property="Background" Value="Transparent"></Setter>
            <Setter Property="Padding" Value="20,14"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0,0,0,2"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Transitions">
                <Transitions>
                    <BrushTransition Property="Background" Duration="0:0:0.15"/>
                    <BrushTransition Property="BorderBrush" Duration="0:0:0.15"/>
                </Transitions>
            </Setter>
        </Style>

        <Style Selector="Border.Tab TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource TextSecondary}"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="Medium"/>
        </Style>

        <Style Selector="Border.Tab:pointerover">
            <Setter Property="Background" Value="{DynamicResource GlassBg}"/>
        </Style>

        <Style Selector="Border.Tab.Active">
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
        </Style>

        <Style Selector="Border.Tab.Active TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource AccentBrush}"/>
        </Style>

        <!-- Misc -->
        <Style Selector="TextBlock.SectionTitle">
            <Setter Property="Foreground" Value="{DynamicResource TextSecondary}"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="LetterSpacing" Value="0.5"/>
        </Style>

        <Style Selector="Border.StatusBadge">
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        
        <Style Selector="Border.StatusBadge TextBlock">
            <Setter Property="FontFamily" Value="{StaticResource JetBrainsMonoFont}"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>

        <Style Selector="Border.StatusSuccess">
            <Setter Property="Background" Value="{DynamicResource SuccessSubtle}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource SuccessBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
        
        <Style Selector="Border.TreeItem.DragTop">
            <Setter Property="BoxShadow" Value="inset 0 2 0 0 #3B82F6" />
            <Setter Property="Background" Value="{DynamicResource AccentDrag}" />
            <Setter Property="BorderThickness" Value="0" /> 
            <Setter Property="Padding" Value="10,8" /> </Style>

        <Style Selector="Border.TreeItem.DragBottom">
            <Setter Property="BoxShadow" Value="inset 0 -2 0 0 #3B82F6" />
            <Setter Property="Background" Value="{DynamicResource AccentDrag}" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="10,8" />
        </Style>
        
        <Style Selector="FlyoutPresenter.CleanFlyout">
            <Setter Property="Padding" Value="0" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="CornerRadius" Value="8" />
            <Setter Property="MaxWidth" Value="1000" /> 
        </Style>
        
        <!-- DataGrid Styles -->
        <Style Selector="DataGrid.ResponseGrid">
            <Setter Property="IsReadOnly" Value="True" />
            <Setter Property="CanUserResizeColumns" Value="True" />
            <Setter Property="CanUserSortColumns" Value="False" />
            <Setter Property="GridLinesVisibility" Value="None" />
            <Setter Property="SelectionMode" Value="Extended" />
            <Setter Property="Background" Value="{DynamicResource BgMain}" />
            <Setter Property="RowBackground" Value="{DynamicResource BgMain}" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="HorizontalScrollBarVisibility" Value="Auto" />
            <Setter Property="VerticalScrollBarVisibility" Value="Auto" />
            <Setter Property="CornerRadius" Value="8" />
            <Setter Property="ClipToBounds" Value="True" />
        </Style>

        <!-- DataGrid Column Headers -->
        <Style Selector="DataGrid.ResponseGrid DataGridColumnHeader">
            <Setter Property="Background" Value="{DynamicResource BgElevated}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextSecondary}"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
        </Style>

        <!-- DataGrid Rows -->
        <Style Selector="DataGrid.ResponseGrid DataGridRow">
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
            <Setter Property="MinHeight" Value="36"/>
        </Style>

        <!-- DataGrid Row Hover State -->
        <Style Selector="DataGrid.ResponseGrid DataGridRow:pointerover /template/ Rectangle#BackgroundRectangle">
            <Setter Property="Fill" Value="{DynamicResource GlassBg}"/>
            <Setter Property="Opacity" Value="1"/>
        </Style>

        <!-- DataGrid Row Selected State -->
        <Style Selector="DataGrid.ResponseGrid DataGridRow:selected /template/ Rectangle#BackgroundRectangle">
            <Setter Property="Fill" Value="{DynamicResource AccentSubtle}"/>
            <Setter Property="Opacity" Value="1"/>
        </Style>

        <!-- DataGrid Cells -->
        <Style Selector="DataGrid.ResponseGrid DataGridCell">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="0"/>
        </Style>

        <!-- DataGrid Cell TextBlocks -->
        <Style Selector="DataGrid.ResponseGrid DataGridCell TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
        </Style>

        <!-- First Column (Name/Key) Styling -->
        <Style Selector="DataGrid.ResponseGrid DataGridRow DataGridCell:nth-child(1) TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource AccentBrush}"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="FontFamily" Value="{StaticResource JetBrainsMonoFont}"/>
        </Style>

        <!-- Second Column (Value) Styling -->
        <Style Selector="DataGrid.ResponseGrid DataGridRow DataGridCell:nth-child(2) TextBlock">
            <Setter Property="Foreground" Value="{DynamicResource TextSecondary}"/>
            <Setter Property="FontFamily" Value="{StaticResource JetBrainsMonoFont}"/>
        </Style>

        <!-- Remove Focus Visual -->
        <Style Selector="DataGrid.ResponseGrid DataGridCell:focus /template/ Grid#FocusVisual">
            <Setter Property="IsVisible" Value="False" />
        </Style>

        <!-- Column Header Separator -->
        <Style Selector="DataGrid.ResponseGrid DataGridColumnHeader /template/ Rectangle#VerticalSeparator">
            <Setter Property="IsVisible" Value="False" />
        </Style>
        
        <!-- AvaloniaEdit TextEditor -->
        <Style Selector="avaloniaEdit|TextEditor">
            <Setter Property="Background" Value="{DynamicResource BgMain}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
            <Setter Property="LineNumbersForeground" Value="{DynamicResource TextMuted}"/>
            <Setter Property="FontFamily" Value="{StaticResource JetBrainsMonoFont}"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <!-- AvaloniaEdit ScrollViewer -->
        <Style Selector="avaloniaEdit|TextEditor ScrollViewer">
            <Setter Property="Background" Value="{DynamicResource BgMain}"/>
        </Style>
        
        <!-- AvaloniaEdit Folding Styles -->
        <Style Selector="folding|FoldingMargin">
            <Setter Property="FoldingMarkerBrush" Value="{DynamicResource TextMuted}"/>
            <Setter Property="FoldingMarkerBackgroundBrush" Value="{DynamicResource BgElevated}"/>
            <Setter Property="SelectedFoldingMarkerBrush" Value="{DynamicResource TextMuted}"/>
            <Setter Property="SelectedFoldingMarkerBackgroundBrush" Value="{DynamicResource BgElevated}"/>
        </Style>


        
        <Style Selector="Border.DragTop">
            <Setter Property="BoxShadow" Value="inset 0 2 4 0 #3B82F6, 0 -1 8 0 #3B82F6" />
            <Setter Property="Background" Value="{DynamicResource AccentDragStrong}" />
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}" />
            <Setter Property="BorderThickness" Value="1,2,1,1" />
        </Style>

        <Style Selector="Border.DragBottom">
            <Setter Property="BoxShadow" Value="inset 0 -2 4 0 #3B82F6, 0 1 8 0 #3B82F6" />
            <Setter Property="Background" Value="{DynamicResource AccentDrag}" />
            <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}" />
            <Setter Property="BorderThickness" Value="1,1,1,2" />
        </Style>
        
        <!-- ComboBox Outline Style -->
<Style Selector="ComboBox.Outline">
    <Setter Property="Background" Value="Transparent"/>
    <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
    <Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="CornerRadius" Value="8"/>
    <Setter Property="MinHeight" Value="40"/> 
    <Setter Property="Padding" Value="14,10"/> 
    <Setter Property="FontSize" Value="14"/>
    <Setter Property="Transitions">
        <Transitions>
            <BrushTransition Property="BorderBrush" Duration="0:0:0.15"/>
            <BrushTransition Property="Background" Duration="0:0:0.15"/>
        </Transitions>
    </Setter>
</Style>

<Style Selector="ComboBox.Outline:pointerover /template/ Border#Background">
    <Setter Property="Background" Value="{DynamicResource GlassBg}"/>
    <Setter Property="BorderBrush" Value="{DynamicResource BorderBright}"/>
</Style>

<Style Selector="ComboBox.Outline:focus /template/ Border#Background">
    <Setter Property="Background" Value="{DynamicResource GlassBg}"/>
    <Setter Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
</Style>

<Style Selector="ComboBox.Outline:disabled /template/ Border#Background">
    <Setter Property="Opacity" Value="0.4"/>
</Style>

<!-- ComboBox Outline Dropdown -->
<Style Selector="ComboBox.Outline /template/ PathIcon#DropDownGlyph">
    <Setter Property="Foreground" Value="{DynamicResource TextSecondary}"/>
    <Setter Property="Transitions">
        <Transitions>
            <BrushTransition Property="Foreground" Duration="0:0:0.15"/>
        </Transitions>
    </Setter>
</Style>

<Style Selector="ComboBox.Outline:pointerover /template/ PathIcon#DropDownGlyph">
    <Setter Property="Foreground" Value="{DynamicResource TextPrimary}"/>
</Style>

<Style Selector="ComboBox.Outline:focus /template/ PathIcon#DropDownGlyph">
    <Setter Property="Foreground" Value="{DynamicResource AccentBrush}"/>
</Style>
        
    </Application.Styles>
    
</Application>
